<html>
<head>
<title>Automatic Movie Review System Using Sentimental Analysis For Positive or Negative Reviews</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">ä½¿ç”¨æ­£é¢æˆ–è´Ÿé¢è¯„è®ºçš„æƒ…æ„Ÿåˆ†æçš„è‡ªåŠ¨ç”µå½±è¯„è®ºç³»ç»Ÿ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://pub.towardsai.net/automatic-movie-review-system-using-sentimental-analysis-for-positive-or-negative-review-1667ea3041d4?source=collection_archive---------1-----------------------#2020-05-25">https://pub.towardsai.net/automatic-movie-review-system-using-sentimental-analysis-for-positive-or-negative-review-1667ea3041d4?source=collection_archive---------1-----------------------#2020-05-25</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="9f15" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/nlp" rel="noopener ugc nofollow" target="_blank">è‡ªç„¶è¯­è¨€å¤„ç†</a></h2><div class=""/><div class=""><h2 id="8996" class="pw-subtitle-paragraph jw iz iq bd b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dk translated">ä¸€ç¯‡å¾ˆå¥½çš„æ–‡ç« ï¼Œé€šè¿‡å›é¡¾ç”µå½±æ¥ç†è§£æƒ…æ„Ÿåˆ†æå’Œæ•°æ®æœé›†çš„åŸºç¡€ã€‚</h2></div><blockquote class="ko kp kq"><p id="f4c1" class="kr ks kt ku b kv kw ka kx ky kz kd la lb lc ld le lf lg lh li lj lk ll lm ln ij bi translated">åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<strong class="ku ja">æœºå™¨å­¦ä¹ å¯¹IMDBç½‘ç«™ä¸Šä»»ä½•ç»™å®šç”µå½±çš„è¯„è®º</strong>è¿›è¡Œæƒ…æ„Ÿåˆ†æï¼Œç„¶åå†³å®šæ˜¯å¦è§‚çœ‹è¯¥ç”µå½±ã€‚ç†è§£<strong class="ku ja"> NLP </strong>ä»¥åŠ<strong class="ku ja">æ•°æ®æŠ“å–</strong>çš„åŸºç¡€çŸ¥è¯†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é¡¹ç›®ã€‚å¦‚æœä½ åœ¨æœºå™¨å­¦ä¹ é¢†åŸŸå·¥ä½œäº†ç›¸å½“é•¿çš„æ—¶é—´ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ä½ å¯ä»¥è·³è¿‡è¿™ä¸ªæ•™ç¨‹ã€‚</p></blockquote><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div role="button" tabindex="0" class="lu lv di lw bf lx"><div class="gh gi lo"><img src="../Images/b568dd3bd18025d87ee47e43cfec667e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OwNg5FWOHspgMx0VRG4nKQ.png"/></div></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">åŸºäºç½‘é¡µæŠ“å–çš„æƒ…æ„Ÿåˆ†æ</figcaption></figure><p id="0f89" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">æˆ‘ä»¬å°†ä½¿ç”¨çš„å·¥ä½œæµç¨‹æˆ–æ–¹æ³•ç”±å››ä¸ªä¸»è¦éƒ¨åˆ†ç»„æˆ:</p><ul class=""><li id="8448" class="mh mi iq ku b kv kw ky kz me mj mf mk mg ml ln mm mn mo mp bi translated">å®‰è£…æ‰€æœ‰ä¾èµ–é¡¹å’Œå¿…éœ€çš„æ–‡ä»¶</li><li id="185f" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated">æ¨¡å‹å¼€å‘(æœ´ç´ è´å¶æ–¯)</li><li id="2d6f" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated">æœé›†å¯¹æŸéƒ¨ç”µå½±çš„è¯„è®º</li><li id="b26b" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated">é¢„æµ‹æ¯æ¡è¯„è®ºçš„æƒ…ç»ªï¼Œå†³å®šçœ‹ä¸çœ‹ã€‚</li></ul><h2 id="cd09" class="mv mw iq bd mx my mz dn na nb nc dp nd me ne nf ng mf nh ni nj mg nk nl nm iw bi translated">å…ˆå†³æ¡ä»¶</h2><p id="e0c4" class="pw-post-body-paragraph kr ks iq ku b kv nn ka kx ky no kd la me np ld le mf nq lh li mg nr ll lm ln ij bi translated">æˆ‘å‡è®¾æ‚¨ç†Ÿæ‚‰pythonç¼–ç¨‹è¯­è¨€<strong class="ku ja"><em class="kt"/></strong>ï¼Œå¹¶ä¸”æ‚¨çš„ç³»ç»Ÿä¸­å·²ç»å®‰è£…äº†python 3ã€‚</p><h2 id="e113" class="mv mw iq bd mx my mz dn na nb nc dp nd me ne nf ng mf nh ni nj mg nk nl nm iw bi translated">å®‰è£…æ‰€éœ€çš„è½¯ä»¶åŒ…</h2><p id="bcaa" class="pw-post-body-paragraph kr ks iq ku b kv nn ka kx ky no kd la me np ld le mf nq lh li mg nr ll lm ln ij bi translated">å¯¹äºç»™å®šçš„åŒ…ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°ä½¿ç”¨<code class="fe ns nt nu nv b">pip install pakage_name</code>ã€‚åœ¨å¼€å§‹ç¼–ç ä¹‹å‰éœ€è¦å®‰è£…çš„åŒ…æœ‰:</p><ul class=""><li id="a899" class="mh mi iq ku b kv kw ky kz me mj mf mk mg ml ln mm mn mo mp bi translated"><strong class="ku ja"> selenium </strong> â€”ç”¨äºç½‘é¡µæŠ“å–å’Œè‡ªåŠ¨æ»šåŠ¨ç½‘ç«™ã€‚åœ¨seleniumä¸­ï¼Œä½ è¿˜éœ€è¦ä¸‹è½½<a class="ae nw" href="https://sites.google.com/a/chromium.org/chromedriver/downloads" rel="noopener ugc nofollow" target="_blank">chomedriver.exe</a>æ¥è‡ªåŠ¨ä½¿ç”¨chromeã€‚</li><li id="a3ca" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated"><strong class="ku ja"> nltk </strong> â€”ç”¨äºæ‰§è¡Œè‡ªç„¶è¯­è¨€å¤„ç†ä»»åŠ¡å’Œæ¨¡å‹è®­ç»ƒã€‚</li><li id="2ef7" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated"><strong class="ku ja"> bs4 </strong> â€”ç”¨äºè§£æHtmlé¡µé¢çš„BeautifulSoupã€‚</li><li id="f071" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated"><strong class="ku ja"> lxml </strong> â€”å®ƒæ˜¯ç”¨æ¥ç”¨pythonå¤„ç†Htmlå’Œxmlçš„åŒ…ã€‚</li><li id="0244" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated"><strong class="ku ja"> urllib </strong> â€”ç”¨äºè¯·æ±‚ç½‘é¡µã€‚</li><li id="c138" class="mh mi iq ku b kv mq ky mr me ms mf mt mg mu ln mm mn mo mp bi translated"><strong class="ku ja"> sklearn(å¯é€‰)</strong> â€”ç”¨äºä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚</li></ul><h1 id="a5e8" class="nx mw iq bd mx ny nz oa na ob oc od nd kf oe kg ng ki of kj nj kl og km nm oh bi translated">è®©æˆ‘ä»¬å¼€å§‹ç¼–ç å§</h1><p id="bb71" class="pw-post-body-paragraph kr ks iq ku b kv nn ka kx ky no kd la me np ld le mf nq lh li mg nr ll lm ln ij bi translated">åˆ›å»ºç”¨äºè®­ç»ƒå’Œé¢„æµ‹è¯„è®ºçš„pythonæ–‡ä»¶ã€‚åˆ«æ‹…å¿ƒï¼Œæˆ‘ä»¬ç¨åä¼šåœ¨ä¸åŒçš„æ–‡ä»¶ä¸­åˆ é™¤è¿™äº›è¯„è®ºã€‚</p><h2 id="d56f" class="mv mw iq bd mx my mz dn na nb nc dp nd me ne nf ng mf nh ni nj mg nk nl nm iw bi translated">æ¨¡å‹å¼€å‘</h2><p id="df6f" class="pw-post-body-paragraph kr ks iq ku b kv nn ka kx ky no kd la me np ld le mf nq lh li mg nr ll lm ln ij bi translated">é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»ä¸‹è½½æ‰€æœ‰å¿…è¦çš„æ•°æ®ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æ¨¡å‹å°†è¦è®­ç»ƒçš„<strong class="ku ja"><em class="kt">movie _ reviews</em></strong>ä»¥åŠnltkåœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ä½¿ç”¨çš„ä¸€äº›å…¶ä»–æ•°æ®ï¼Œæ¯”å¦‚åœç”¨è¯ã€punktã€‚å¦‚æœnltkéœ€è¦æ›´å¤šçš„æ•°æ®ï¼Œå®ƒä¼šé€šçŸ¥æ‚¨é”™è¯¯ã€‚ä¸‹é¢å‡ è¡Œå°†ä¸‹è½½æ•°æ®ã€‚</p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="f54c" class="mv mw iq nv b gy om on l oo op"><strong class="nv ja">import </strong>nltk<br/>nltk.download(<strong class="nv ja">"punkt"</strong>)<br/>nltk.download(<strong class="nv ja">"movie_reviews"</strong>)<br/>nltk.download(<strong class="nv ja">"stopwords"</strong>)</span></pre><p id="6838" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">ç°åœ¨æˆ‘ä»¬å°†å¯¼å…¥æ‰€æœ‰éœ€è¦çš„åŒ…å’Œæ–‡ä»¶ã€‚è¿™é‡Œï¼Œ<strong class="ku ja"> <em class="kt"> movie_reviews </em> </strong>æ˜¯æˆ‘ä»¬çš„è®­ç»ƒå’Œæµ‹è¯•æ•°æ®ï¼Œ<strong class="ku ja"> <em class="kt"> stopwords </em> </strong>æ˜¯åƒ<code class="fe ns nt nu nv b">is,the,of</code>è¿™æ ·å¯¹è®­ç»ƒæ²¡æœ‰è´¡çŒ®çš„è¯ã€‚æˆ‘ä»¬ç”¨<strong class="ku ja"> <em class="kt">æ´—ç‰Œ</em> </strong>æ´—ç‰Œè®­ç»ƒå’Œæµ‹è¯•æ•°æ®ã€‚<strong class="ku ja"> <em class="kt"> NaiveBayes </em> </strong>æ˜¯æœ€å¸¸ç”¨äºNLP(è‡ªç„¶è¯­è¨€å¤„ç†)çš„åˆ†ç±»å™¨ã€‚<strong class="ku ja"><em class="kt">word _ tokenizer</em></strong>ç”¨æ¥æŠŠæ–‡æœ¬åˆ†æˆæ›´å°çš„éƒ¨åˆ†ç§°ä¸ºè®°å·ã€‚</p><p id="3e4e" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">MAIN_scrap_movies_reviewsæ˜¯æˆ‘ä»¬æŠ“å–æ•°æ®çš„pythonæ–‡ä»¶ï¼Œ<strong class="ku ja"><em class="kt">reviews _ extract</em></strong>æ˜¯æ‰§è¡Œè¯¥ä»»åŠ¡çš„å‡½æ•°ã€‚</p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="cc85" class="mv mw iq nv b gy om on l oo op"><strong class="nv ja">from </strong>nltk.corpus <strong class="nv ja">import </strong>movie_reviews<br/><strong class="nv ja">from </strong>nltk.corpus <strong class="nv ja">import </strong>stopwords<br/><strong class="nv ja">from </strong>random <strong class="nv ja">import </strong>shuffle<br/><strong class="nv ja">import </strong>string<br/><strong class="nv ja">from </strong>nltk <strong class="nv ja">import </strong>NaiveBayesClassifier<br/><strong class="nv ja">from </strong>nltk <strong class="nv ja">import </strong>classify<br/><strong class="nv ja">from </strong>nltk <strong class="nv ja">import </strong>word_tokenize<br/><strong class="nv ja">from </strong>MAIN_scrap_movies_reviews <strong class="nv ja">import </strong>reviews_extract<br/><strong class="nv ja">from </strong>sklearn.externals <strong class="nv ja">import </strong>joblib</span></pre><p id="69e2" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated"><strong class="ku ja"/></p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="2c2b" class="mv mw iq nv b gy om on l oo op"><strong class="nv ja">def </strong>bag_words(words):<br/>    <strong class="nv ja">global </strong>stop_words<br/>    stop_words = stopwords.words(<strong class="nv ja">'english'</strong>)<br/>    clean = []<br/>    <strong class="nv ja">for </strong>i <strong class="nv ja">in </strong>words:<br/>        <strong class="nv ja">if </strong>i <strong class="nv ja">not in </strong>stop_words <strong class="nv ja">and </strong>i <strong class="nv ja">not in </strong>string.punctuation:<br/>            clean.append(i)<br/>    dictionary = dict([word, <strong class="nv ja">True</strong>] <strong class="nv ja">for </strong>word <strong class="nv ja">in </strong>clean)<br/>    <strong class="nv ja">return </strong>dictionary</span></pre><p id="88f0" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">æˆ‘ä»¬å·²ç»åˆ›å»ºäº†å‡½æ•°<strong class="ku ja"><em class="kt">training and testing()</em></strong>æ¥è®­ç»ƒå’Œæ£€æŸ¥æ¨¡å‹çš„å‡†ç¡®æ€§ã€‚æœ‰ä¸¤ä¸ªç©ºåˆ—è¡¨ç”¨äºå­˜å‚¨æ­£é¢å’Œè´Ÿé¢è¯„è®ºã€‚ç„¶åï¼Œæˆ‘ä»¬åœ¨movie_reviewsåˆ—<code class="fe ns nt nu nv b">fileids</code>ä¸­è¿­ä»£ï¼Œå¦‚æœå®ƒåŒ…å«<code class="fe ns nt nu nv b">pos</code>ï¼Œé‚£ä¹ˆè¯¥è¡Œæˆ–è¯„è®ºè¢«å­˜å‚¨åœ¨æ­£é¢è¯„è®ºåˆ—è¡¨ä¸­ï¼Œåä¹‹äº¦ç„¶ã€‚ä¹‹åï¼Œæˆ‘ä»¬éå†å­˜å‚¨åœ¨<em class="kt"> pos_reviews </em>ä¸­çš„æ¯ä¸ªè¯„è®ºï¼Œå¹¶è°ƒç”¨<strong class="ku ja"> <em class="kt"> bag_words </em> </strong>å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¾æ¬¡ç»™å‡ºåŒ…å«è¯„è®ºè¯(åˆ é™¤äº†åœç”¨è¯å’Œæ ‡ç‚¹ç¬¦å·)çš„å­—å…¸ï¼Œå¹¶å°†<code class="fe ns nt nu nv b">pos</code>ä¸å…¶ç›¸å…³è”ï¼Œè¡¨ç¤ºè¿™æ˜¯æ­£é¢è¯„è®ºã€‚è´Ÿé¢è¯„ä»·ä¹Ÿæ˜¯ä¸€æ ·ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯¹æ•°æ®è¿›è¡Œæ´—ç‰Œå’Œåˆ†å‰²ï¼Œä»¥è¿›è¡Œè®­ç»ƒå’Œæµ‹è¯•ã€‚æˆ‘ä»¬ç®€å•åœ°ä½¿ç”¨äº†<a class="ae nw" href="https://www.geeksforgeeks.org/naive-bayes-classifiers/" rel="noopener ugc nofollow" target="_blank">æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</a>è¿›è¡Œæƒ…æ„Ÿåˆ†æã€‚nltkçš„å†…ç½®åŠŸèƒ½ä½¿è®­ç»ƒå’Œæµ‹è¯•å˜å¾—ç®€å•ã€‚</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/cad0a9ed58313f68061644a995802970.png" data-original-src="https://miro.medium.com/v2/resize:fit:440/1*W8tQVubf5_dXAY7KqKS4aA.gif"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">ç”¨nltkè®­ç»ƒå°±åƒé­”æœ¯ä¸€æ ·</figcaption></figure><p id="18a5" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">è¿™é‡Œæœ€åä¸€è¡Œç”¨æ¥å­˜å‚¨è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œè¿™æ ·å°±ä¸éœ€è¦æ¯æ¬¡å›é¡¾ç”µå½±çš„æ—¶å€™éƒ½è®­ç»ƒæ¨¡å‹äº†ã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥ç®€å•åœ°è¿”å›åˆ†ç±»å™¨ï¼Œå¹¶åœ¨é¢„æµ‹é˜¶æ®µä½¿ç”¨å®ƒã€‚</p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="324f" class="mv mw iq nv b gy om on l oo op"><strong class="nv ja">def </strong>TrainingAndTesting():<br/>    pos_review = []<br/>    neg_review = []<br/>    <br/>    <strong class="nv ja">for </strong>fileid <strong class="nv ja">in </strong>movie_reviews.fileids(<strong class="nv ja">'pos'</strong>):<br/>        pos_review.append(movie_reviews.words(fileid))</span><span id="37da" class="mv mw iq nv b gy or on l oo op">    <strong class="nv ja">for </strong>fileid <strong class="nv ja">in </strong>movie_reviews.fileids(<strong class="nv ja">'neg'</strong>):<br/>        neg_review.append(movie_reviews.words(fileid))</span><span id="3b93" class="mv mw iq nv b gy or on l oo op">    pos_set = []<br/>    <strong class="nv ja">for </strong>word<strong class="nv ja"> in </strong>pos_review:<br/>        pos_set.append((bag_words(word),<strong class="nv ja">'pos'</strong>))</span><span id="70e6" class="mv mw iq nv b gy or on l oo op">    neg_set = []<br/>    <strong class="nv ja">for </strong>word <strong class="nv ja">in </strong>neg_review:<br/>        neg_set.append((bag_words(word),<strong class="nv ja">'neg'</strong>))</span><span id="b8d9" class="mv mw iq nv b gy or on l oo op">    shuffle(pos_set)<br/>    shuffle(neg_set)<br/>    test_set = pos_set[:200]+neg_set[:200]<br/>    train_set = pos_set[200:]+neg_set[200:]</span><span id="3399" class="mv mw iq nv b gy or on l oo op">    classifier = NaiveBayesClassifier.train(train_set)<br/>    acc = classify.accuracy(classifier,test_set)<br/>    print(acc)<br/>    joblib.dump(classifier,<strong class="nv ja">'imdb_movies_reviews.pkl'</strong>)</span></pre><p id="b1e3" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">ç°åœ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºå¦ä¸€ä¸ªæ–‡ä»¶ï¼Œä»IMDBæŠ“å–è¯„è®ºï¼Œæˆ–è€…æ‚¨ä¹Ÿå¯ä»¥åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰å‡½æ•°ã€‚</p><h2 id="2e4e" class="mv mw iq bd mx my mz dn na nb nc dp nd me ne nf ng mf nh ni nj mg nk nl nm iw bi translated">æœé›†å¯¹æŸéƒ¨ç”µå½±çš„è¯„è®º</h2><p id="56a3" class="pw-post-body-paragraph kr ks iq ku b kv nn ka kx ky no kd la me np ld le mf nq lh li mg nr ll lm ln ij bi translated">å¯¼å…¥æ‰€éœ€çš„åŒ…ã€‚æ‰€æœ‰è¿™äº›çš„ç”¨é€”åœ¨å¼€å§‹æ—¶éƒ½æœ‰å®šä¹‰ã€‚</p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="b113" class="mv mw iq nv b gy om on l oo op"><strong class="nv ja">from </strong>selenium <strong class="nv ja">import </strong>webdriver<br/><strong class="nv ja">import </strong>urllib.request <strong class="nv ja">as </strong>url<br/><strong class="nv ja">import </strong>bs4<br/><strong class="nv ja">import </strong>time</span></pre><p id="2c73" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†ç”µå½±åç§°ä½œä¸ºç”¨æˆ·çš„è¾“å…¥ï¼Œç„¶åä½¿ç”¨<code class="fe ns nt nu nv b">urlopen</code>è·å–ç‰¹å®šç½‘é¡µçš„å†…å®¹ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<code class="fe ns nt nu nv b">BeautifulSoup</code>è§£æå†…å®¹ï¼Œå¹¶æ‰¾åˆ°é¡µé¢ä¸Šç¬¬ä¸€ä¸ªç”µå½±ç»“æœçš„é“¾æ¥ï¼Œç§»åŠ¨åˆ°è¯¥é“¾æ¥ï¼Œç„¶åè¿›å…¥è¯„è®ºéƒ¨åˆ†ï¼Œå•å‡»åŠ è½½æ›´å¤šè¯„è®ºã€‚è¿™æ˜¯ä½¿ç”¨<strong class="ku ja"> <em class="kt">ç¡’</em> </strong>çš„ä¸»è¦åŸå› ï¼Œå¦åˆ™æˆ‘ä»¬å°†åšæŒåªæœ‰5æˆ–6ä¸ªé¢„è½½æ³¨é‡Šã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œç‚¹å‡»ç‰¹å®šæ¬¡æ•°(20æ¬¡)åï¼Œæˆ‘ä»¬å°†æ‰¾åˆ°æ¯ä¸ªè¯„è®ºçš„æ–‡æœ¬ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°åˆ—è¡¨ä¸­ï¼Œç„¶åè¿”å›è¯¥åˆ—è¡¨ã€‚</p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="3e15" class="mv mw iq nv b gy om on l oo op"><strong class="nv ja">def </strong>reviews_extract():<br/>    movie = input(<strong class="nv ja">'Enter name of movie:'</strong>)<br/>    movie = movie.lower()</span><span id="c7ba" class="mv mw iq nv b gy or on l oo op">    web = url.urlopen(<strong class="nv ja">"https://www.imdb.com/find?ref_=nv_sr_fn&amp;q="</strong>+movie)<br/>    page1 = bs4.BeautifulSoup(web,<strong class="nv ja">'lxml'</strong>)<br/>    b = page1.find(<strong class="nv ja">'td'</strong>,class_=<strong class="nv ja">'result_text'</strong>)<br/>    href = b.a[<strong class="nv ja">'href'</strong>]<br/>    web2 = url.urlopen(<strong class="nv ja">"https://www.imdb.com"</strong>+href)<br/>    page2 = bs4.BeautifulSoup(web2,<strong class="nv ja">'lxml'</strong>)<br/>    c = page2.find(<strong class="nv ja">'div'</strong>,class_=<strong class="nv ja">'user-comments'</strong>)<br/>    temp = []<br/>    <strong class="nv ja">for </strong>a <strong class="nv ja">in </strong>c.find_all(<strong class="nv ja">'a'</strong>,href =<strong class="nv ja">True</strong>):<br/>        g =(a[<strong class="nv ja">'href'</strong>])<br/>        temp.append(g)<br/>    d = temp[-1]<br/>    driver = webdriver.Chrome(<strong class="nv ja">'C:\\Users\\dell\\Desktop\\chromedriver.exe'</strong>)<br/>    driver.get(<strong class="nv ja">"https://www.imdb.com"</strong>+d)<br/>    <strong class="nv ja">for </strong>i <strong class="nv ja">in </strong>range(20):<br/>        <strong class="nv ja">try</strong>:<br/>            loadMoreButton = driver.find_element_by_class_name(<strong class="nv ja">'load-more-data'</strong>)<br/>            loadMoreButton.click()<br/>            time.sleep(1)<br/>        <strong class="nv ja">except </strong>Exception <strong class="nv ja">as </strong>e:<br/>            print(e)<br/>            <strong class="nv ja">break<br/>    </strong>web3 = driver.page_source<br/>    page3 = bs4.BeautifulSoup(web3,<strong class="nv ja">'lxml'</strong>)</span><span id="185d" class="mv mw iq nv b gy or on l oo op">    e = page3.find(<strong class="nv ja">'div'</strong>,class_=<strong class="nv ja">'lister-list'</strong>)</span><span id="9bf6" class="mv mw iq nv b gy or on l oo op">    e1 = e.find_all(<strong class="nv ja">'a'</strong>,class_=<strong class="nv ja">'title'</strong>)</span><span id="59dc" class="mv mw iq nv b gy or on l oo op">    user_reviews = []<br/>    <strong class="nv ja">for </strong>i <strong class="nv ja">in </strong>e1:<br/>        raw = (i.text)<br/>        user_reviews.append(raw.replace(<strong class="nv ja">'\n'</strong>,<strong class="nv ja">''</strong>))<br/>    driver.quit()<br/>    print(user_reviews)<br/>    print(len(user_reviews))<br/>    <strong class="nv ja">return </strong>user_reviews,movie</span></pre><h2 id="cc38" class="mv mw iq bd mx my mz dn na nb nc dp nd me ne nf ng mf nh ni nj mg nk nl nm iw bi translated">é¢„æµ‹æ¯ä¸ªè¯„è®ºçš„æƒ…ç»ª</h2><p id="61c5" class="pw-post-body-paragraph kr ks iq ku b kv nn ka kx ky no kd la me np ld le mf nq lh li mg nr ll lm ln ij bi translated">æŠ“å–ä¹‹åï¼Œæˆ‘ä»¬å›åˆ°ä¹‹å‰çš„pythonæ–‡ä»¶ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹æ¥é¢„æµ‹æ¯ä¸ªåˆ®æ‰çš„è¯„è®ºçš„æƒ…ç»ªã€‚åœ¨ä»£ç ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬åŠ è½½äº†ä¹‹å‰ä¿å­˜çš„æ¨¡å‹ï¼Œå¹¶è°ƒç”¨ä¸Šé¢å®šä¹‰çš„reviews_extractå‡½æ•°æ¥è·å–è¯„è®ºã€‚ä¹‹åï¼Œæˆ‘ä»¬å¤„ç†æ¯ä¸ªè¯„è®ºï¼Œå³æ ‡è®°åŒ–ï¼Œåˆ é™¤åœç”¨è¯ï¼Œå¹¶å°†è¯„è®ºè½¬æ¢ä¸ºæ‰€éœ€çš„æ ¼å¼ã€‚ç„¶åï¼Œå¦‚æœ<code class="fe ns nt nu nv b">neg</code>å¢åŠ nçš„è®¡æ•°ï¼Œå¦‚æœ<code class="fe ns nt nu nv b">pos</code>å¢åŠ pï¼Œæˆ‘ä»¬é¢„æµ‹å®ƒçš„æƒ…ç»ªï¼Œå¹¶è®¡ç®—æ­£é¢è¯„è®ºçš„ç™¾åˆ†æ¯”ã€‚</p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="9da7" class="mv mw iq nv b gy om on l oo op"><strong class="nv ja">def </strong>predicting():<br/>    classifier = joblib.load(<strong class="nv ja">'imdb_movies_reviews.pkl'</strong>)<br/>    reviews_film, movie = reviews_extract()<br/>    testing = reviews_film</span><span id="45ee" class="mv mw iq nv b gy or on l oo op">    tokens = []<br/>    <strong class="nv ja">for </strong>i <strong class="nv ja">in </strong>testing:<br/>        tokens.append(word_tokenize(i))</span><span id="698f" class="mv mw iq nv b gy or on l oo op">    set_testing = []<br/>    <strong class="nv ja">for </strong>i <strong class="nv ja">in </strong>tokens:<br/>        set_testing.append(bag_words(i))</span><span id="eddd" class="mv mw iq nv b gy or on l oo op">    final = []<br/>    <strong class="nv ja">for </strong>i <strong class="nv ja">in </strong>set_testing:<br/>        final.append(classifier.classify(i))</span><span id="d7e9" class="mv mw iq nv b gy or on l oo op">    n = 0<br/>    p = 0<br/>    <strong class="nv ja">for </strong>i <strong class="nv ja">in </strong>final:<br/>        <strong class="nv ja">if </strong>i == <strong class="nv ja">'neg'</strong>:<br/>            n+= 1<br/>        <strong class="nv ja">else</strong>:<br/>            p+= 1<br/>    pos_per = (p / len(final)) * 100</span><span id="4fc7" class="mv mw iq nv b gy or on l oo op">    <strong class="nv ja">return </strong>movie,pos_per,len(final)</span></pre><p id="edc1" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">ç„¶åï¼Œåœ¨æœ€åï¼Œæˆ‘ä»¬è°ƒç”¨æ‰€éœ€çš„å‡½æ•°ï¼Œå¦‚æœæ­£é¢ç™¾åˆ†æ¯”å¤§äº60%ï¼Œæˆ‘ä»¬å°±å‘æˆ‘ä»¬çš„æœ‹å‹æ¨èè¿™éƒ¨ç”µå½±ã€‚</p><pre class="lp lq lr ls gt oi nv oj ok aw ol bi"><span id="883c" class="mv mw iq nv b gy om on l oo op">TrainingAndTesting()<br/>movie,positive_per,total_reviews = predicting()<br/>print(<strong class="nv ja">'The film {} has got {} percent positive reviews'</strong>.format(movie, round(positive_per)))<br/><strong class="nv ja">if </strong>positive_per &gt; 60:<br/>    print(<strong class="nv ja">'overall impression of movie is good  '</strong>)<br/><strong class="nv ja">else</strong>:<br/>    print(<strong class="nv ja">'overall impression of movie is bad '</strong>)</span></pre><h1 id="d0b1" class="nx mw iq bd mx ny nz oa na ob oc od nd kf oe kg ng ki of kj nj kl og km nm oh bi translated">æˆ‘çš„ç»“æœ</h1><p id="070d" class="pw-post-body-paragraph kr ks iq ku b kv nn ka kx ky no kd la me np ld le mf nq lh li mg nr ll lm ln ij bi translated">æˆ‘èƒ½å¤Ÿå¾—åˆ°å¤§çº¦78%çš„æ¨¡å‹ç²¾åº¦ï¼Œè¿™æ˜¯æˆ‘çš„ç»“æœæˆªå›¾ã€‚è¿™é‡Œ225æ˜¯è¢«åˆ†æçš„è¯„è®ºçš„æ•°é‡ã€‚</p><figure class="lp lq lr ls gt lt gh gi paragraph-image"><div class="gh gi os"><img src="../Images/f3f93063bf3e1547dd539393ceddb0ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*pYbHQ5YAC734LDhwT6xeyw.jpeg"/></div><figcaption class="ma mb gj gh gi mc md bd b be z dk translated">è·å¾—çš„ç»“æœ</figcaption></figure><p id="9da6" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">æ‰€æè¿°çš„é¡¹ç›®æ˜¯ä¸ºåˆå­¦è€…ï¼Œå› æ­¤æˆ‘æ²¡æœ‰ä½¿ç”¨å…ˆè¿›çš„æŠ€æœ¯ï¼Œå¦‚RNN(é€’å½’ç¥ç»ç½‘ç»œ)ã€‚è¿™ç¯‡æ–‡ç« çš„å”¯ä¸€ç„¦ç‚¹æ˜¯æä¾›æœºå™¨å­¦ä¹ é¢†åŸŸçš„çŸ¥è¯†å’Œå¯åŠ¨é˜¶æ®µé¡¹ç›®ã€‚</p><p id="33d4" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">è°¢è°¢ä½ çš„å®è´µæ—¶é—´ã€‚ğŸ˜Šæˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™ä¸ªæ•™ç¨‹ã€‚</p><p id="988b" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">ä½ å¯ä»¥åœ¨æˆ‘çš„<a class="ae nw" href="https://github.com/PushkaraSharma/Automatic_Movie_Review_NLP" rel="noopener ugc nofollow" target="_blank"><strong class="ku ja">Github repo</strong></a><strong class="ku ja">æ‰¾åˆ°ç›¸åŒçš„æºä»£ç ã€‚</strong></p><p id="75da" class="pw-post-body-paragraph kr ks iq ku b kv kw ka kx ky kz kd la me lc ld le mf lg lh li mg lk ll lm ln ij bi translated">æŸ¥çœ‹æˆ‘çš„æ–‡ç« <a class="ae nw" href="https://medium.com/analytics-vidhya/visualize-interesting-sorting-algorithms-with-python-bdd64bdd0713" rel="noopener"> <strong class="ku ja"> <em class="kt">ç”¨Pythonå¯è§†åŒ–æœ‰è¶£çš„æ’åºç®—æ³•</em> </strong> </a></p><div class="ot ou gp gr ov ow"><a href="https://medium.com/analytics-vidhya/visualize-interesting-sorting-algorithms-with-python-bdd64bdd0713" rel="noopener follow" target="_blank"><div class="ox ab fo"><div class="oy ab oz cl cj pa"><h2 class="bd ja gy z fp pb fr fs pc fu fw iz bi translated">ç”¨Pythonå¯è§†åŒ–æœ‰è¶£çš„æ’åºç®—æ³•</h2><div class="pd l"><h3 class="bd b gy z fp pb fr fs pc fu fw dk translated">æœ‰å„ç§ç±»å‹çš„æ’åºç®—æ³•ï¼Œæœ‰æ—¶å¾ˆéš¾ç†è§£å®ƒä»¬â€¦</h3></div><div class="pe l"><p class="bd b dl z fp pb fr fs pc fu fw dk translated">medium.com</p></div></div><div class="pf l"><div class="pg l ph pi pj pf pk ly ow"/></div></div></a></div></div></div>    
</body>
</html>