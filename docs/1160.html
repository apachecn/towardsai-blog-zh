<html>
<head>
<title>Handling Outliers in Machine Learning</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">æœºå™¨å­¦ä¹ ä¸­å¼‚å¸¸å€¼çš„å¤„ç†</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://pub.towardsai.net/handling-outliers-in-machine-learning-f842d8f4c1dc?source=collection_archive---------1-----------------------#2020-11-20">https://pub.towardsai.net/handling-outliers-in-machine-learning-f842d8f4c1dc?source=collection_archive---------1-----------------------#2020-11-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="9e61" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph"><a class="ae ep" href="https://towardsai.net/p/category/machine-learning" rel="noopener ugc nofollow" target="_blank">æœºå™¨å­¦ä¹ </a></h2><div class=""/><div class=""><h2 id="25e1" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">ç®€å•ä¸”æ˜“äºå®æ–½çš„æ–¹æ³•</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/8683c0114517d08c3ae46ee08c100148.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rwdMM4VO5F_zsH9w"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated"><a class="ae lh" href="https://unsplash.com/@joeyc?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ä¹”Â·å‡¯æ©</a>åœ¨<a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank"> Unsplash </a>ä¸Šçš„ç…§ç‰‡</figcaption></figure><p id="bb28" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä»»ä½•æœºå™¨å­¦ä¹ æ¨¡å‹çš„æ€§èƒ½éƒ½å–å†³äºå®ƒè¢«è®­ç»ƒçš„æ•°æ®ï¼Œå¹¶ä¸”å®ƒå¾ˆå®¹æ˜“å—åˆ°æ”¹å˜åˆ†å¸ƒæˆ–åœ¨è¾“å…¥æ•°æ®ä¸­æ·»åŠ ä¸€äº›ç¦»ç¾¤å€¼çš„å½±å“ã€‚ç¦»ç¾¤å€¼ä¼šå¯¼è‡´æœºå™¨å­¦ä¹ æ¨¡å‹çš„å‡†ç¡®æ€§é™ä½ï¼Œè®­ç»ƒæ—¶é—´å¢åŠ ã€‚åœ¨ä¸ºè®­ç»ƒæä¾›æ•°æ®ä¹‹å‰ï¼Œå¤„ç†æ‰€æœ‰å¼‚å¸¸å€¼å˜å¾—å¾ˆé‡è¦ã€‚</p><p id="a487" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘å°†å°è¯•å›ç­”å…³äºç¦»ç¾¤å€¼çš„ä¸¤ä¸ªæœ€å¸¸è§çš„é—®é¢˜ã€‚</p><ol class=""><li id="d891" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">å¦‚ä½•æ‰¾åˆ°ä»–ä»¬</li><li id="327b" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">å¦‚ä½•å¤„ç†å®ƒä»¬</li></ol><h2 id="8966" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated">ä»€ä¹ˆæ˜¯ç¦»ç¾¤å€¼ï¼Ÿ</h2><p id="bf4e" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">å¼‚å¸¸å€¼æ˜¯ä¸æ ·æœ¬çš„å…¶ä½™éƒ¨åˆ†æ˜¾è‘—ä¸åŒçš„å¼‚å¸¸æ•°æ®ç‚¹ã€‚è¿™äº›ç‚¹ç¦»å…¶ä»–ç±»ä¼¼çš„ç‚¹å¾ˆè¿œã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æ­£åœ¨åˆ†æä¸€æ‰€å­¦æ ¡å­¦ç”Ÿçš„å¹´é¾„æ•°æ®ã€‚åœ¨æ•°æ®ä¸­ï¼Œå¹´é¾„èŒƒå›´åœ¨5-25å²æ˜¯å¸¸è§çš„ï¼Œä½†50å²æˆ–100å²æ˜¯ä¸å¸¸è§çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚å¸¸å€¼ã€‚å®ƒä»¬å¯èƒ½æ˜¯ç”±äºæ•°æ®æ”¶é›†ä¸­çš„ä¸€äº›é”™è¯¯æˆ–è¾“å…¥æ•°æ®æ€§è´¨çš„å˜åŒ–è€Œå‘ç”Ÿçš„ã€‚</p><h2 id="a8bf" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated">ç¦»ç¾¤å€¼çš„ç±»å‹</h2><p id="83c5" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">æœ‰ä¸‰ç§å¼‚å¸¸å€¼ã€‚</p><p id="99e2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">1.<strong class="lk jd">ç‚¹æˆ–å…¨å±€å¼‚å¸¸å€¼:</strong>å¦‚æœæ•°æ®ç‚¹çš„å€¼è¿œåœ¨æ•´ä¸ªæ•°æ®é›†ä¹‹å¤–ï¼Œåˆ™è¯¥æ•°æ®ç‚¹è¢«è§†ä¸ºå…¨å±€å¼‚å¸¸å€¼ã€‚</p><p id="9619" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">2.<strong class="lk jd">ä¸Šä¸‹æ–‡(æ¡ä»¶)å¼‚å¸¸å€¼:</strong>å¦‚æœä¸€ä¸ªå•ç‹¬çš„æ•°æ®å®ä¾‹åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡æˆ–æ¡ä»¶ä¸‹æ˜¯å¼‚å¸¸çš„ï¼Œé‚£ä¹ˆå®ƒè¢«ç§°ä¸ºä¸Šä¸‹æ–‡å¼‚å¸¸å€¼ã€‚</p><p id="01c5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">3.<strong class="lk jd">é›†ä½“å¼‚å¸¸å€¼:</strong>å½“<strong class="lk jd"> </strong>æ•°æ®ç‚¹çš„<strong class="lk jd"> </strong>é›†åˆå¯¹äºæ•´ä¸ªæ•°æ®é›†æ¥è¯´æ˜¯å¼‚å¸¸çš„æ—¶ï¼Œå€¼æœ¬èº«ä¸æ˜¯å¼‚å¸¸çš„ã€‚</p><div class="ks kt ku kv gt ab cb"><figure class="np kw nq nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/e83f68df2b348cd0a591918bd84710fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:606/format:webp/1*Ak783GzWeDe0kKpi2PSCPA.png"/></div></figure><figure class="np kw nv nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/145f850110a41284bc28d0804655f45b.png" data-original-src="https://miro.medium.com/v2/resize:fit:918/format:webp/1*pJaWWA3-zcsPymFQeqliJw.png"/></div></figure><figure class="np kw nw nr ns nt nu paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><img src="../Images/80dbf1ac95844dcb8acf9632055cd925.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/1*dlaOxJhLMzLzqTzsa0ey8w.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk nx di ny nz translated">é›†ä½“-ä¸Šä¸‹æ–‡-å…¨å±€ç¦»ç¾¤å€¼</figcaption></figure></div><h1 id="b9b9" class="oa mt it bd mu ob oc od mx oe of og na ki oh kj nd kl oi km ng ko oj kp nj ok bi translated">å‘ç°å¼‚å¸¸å€¼çš„æ–¹æ³•</h1><p id="bb84" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">ç°åœ¨æˆ‘ä»¬å·²ç»äº†è§£äº†ä»€ä¹ˆæ˜¯å¼‚å¸¸å€¼ä»¥åŠå¼‚å¸¸å€¼çš„ä¸åŒç±»å‹ï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹çœ‹å‘ç°å¼‚å¸¸å€¼çš„ä¸åŒæ–¹æ³•ã€‚</p><p id="c9da" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">æœ‰ä¸¤ç§åŸºæœ¬æ–¹æ³•:</p><ol class=""><li id="ccf0" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">ç™¾åˆ†ä½</li><li id="ff39" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">ç®±å½¢å›¾</li></ol><h2 id="d93f" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated">ç™¾åˆ†ä½</h2><p id="c3f0" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªæœ€å°ç™¾åˆ†ä½æ•°å’Œæœ€å¤§ç™¾åˆ†ä½æ•°ã€‚é€šå¸¸ï¼Œæœ€å°ç™¾åˆ†ä½æ•°æ˜¯5%ï¼Œæœ€å¤§ç™¾åˆ†ä½æ•°æ˜¯95%ã€‚ç„¶åï¼Œæˆ‘ä»¬å–å‡ºç™¾åˆ†ç‚¹èŒƒå›´ä¹‹å¤–çš„æ‰€æœ‰æ•°æ®ç‚¹ï¼Œè¿™æ„å‘³ç€é‚£äº›å¤§äº95%å€¼æˆ–å°äº5%å€¼çš„å€¼ï¼Œå¹¶å°†å®ƒä»¬è§†ä¸ºå¼‚å¸¸å€¼ã€‚</p><p id="7cc0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ä¾‹å¦‚:åœ¨ä¸€ä¸ªæ•°æ®é›†ä¸­ï¼Œå¦‚æœ5%æ˜¯45ï¼Œ95%æ˜¯1000ï¼Œé‚£ä¹ˆæ‰€æœ‰ä½äº45æˆ–å¤§äº1000çš„å€¼éƒ½è¢«è§†ä¸ºå¼‚å¸¸å€¼ã€‚</p><p id="ed79" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">å®é™…ä¾‹å­:</p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="8939" class="ms mt it om b gy oq or l os ot"><strong class="om jd">## Let's First Create a Dummy DataFrame With Outliers</strong><br/>lst = [random.randint(0,100) for i in range(0,100)]<br/><strong class="om jd">## Adding a manual outlier</strong><br/>global_outlier = [300]<br/>df = pd.DataFrame(lst+global_outlier,columns=['number'])</span><span id="9c8e" class="ms mt it om b gy ou or l os ot"><strong class="om jd">## Minimum Percentile Value<br/></strong>min_val = df.quantile(0.05)</span><span id="77cf" class="ms mt it om b gy ou or l os ot"><strong class="om jd">## Maximum Percentile Value<br/></strong>max_val = df.quantile(0.95)</span><span id="64ee" class="ms mt it om b gy ou or l os ot"><strong class="om jd">## Finding All the Outliers<br/></strong>df[(df['number']&lt;min_val[0])| (df['number']&gt;max_val[0])]</span><span id="eebe" class="ms mt it om b gy ou or l os ot">##############OUTPUT################<br/>    number<br/>23    2<br/>64    1<br/>66    99<br/>84    2<br/>89    99<br/>100   300           <br/> <br/>######YOUR OUTPUT MAY BE DIFFERENT BECAUSE WE ARE USING RANDOM MODULE TO GENERATE SAMPLE DATAFRAME####</span></pre><h2 id="1277" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated">ç®±å½¢å›¾</h2><p id="7349" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">ç®±çº¿å›¾æ˜¯æè¿°æ•°æ®åˆ†å¸ƒçš„å›¾å½¢æ˜¾ç¤ºã€‚ç®±çº¿å›¾ä½¿ç”¨ä¸­é—´å€¼å’Œä¸Šä¸‹å››åˆ†ä½æ•°ã€‚</p><p id="5d9d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">ç†ŠçŒ«æ•°æ®æ¡†å…·æœ‰å†…ç½®çš„ç®±çº¿å›¾åŠŸèƒ½ã€‚è®©æˆ‘ä»¬ä½¿ç”¨ä¸Šè¿°æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ•°æ®æ¡†ï¼Œå¹¶å°è¯•æ‰¾å‡ºå¼‚å¸¸å€¼ã€‚</p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="2d24" class="ms mt it om b gy oq or l os ot">df.boxplot(column=['number'])</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/9c73f7731ff3d56d8abb423d424f572b.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*0sy3kcVcHbCL4-9k3CAuVA.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">300å€¼ä½œä¸ºå¼‚å¸¸å€¼</figcaption></figure><p id="6381" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è®©æˆ‘ä»¬ä½¿ç”¨è¿™ä¸¤ç§æŠ€æœ¯ï¼Œå¹¶å°è¯•åœ¨åƒæ³°å¦å°¼å…‹å·è¿™æ ·çš„çœŸå®æ•°æ®é›†ä¸­å‘ç°å¼‚å¸¸å€¼ã€‚è®¿é—®æˆ‘çš„Github repoï¼Œä»<strong class="lk jd"> </strong> <a class="ae lh" href="https://raw.githubusercontent.com/Abhayparashar31/feature-engineering/main/data/titanic_with_no_nan.csv" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd">è¿™é‡Œ</strong> </a>ä¸‹è½½æ²¡æœ‰nanå€¼çš„æ•°æ®é›†çš„æ¸…ç†ç‰ˆæœ¬ã€‚</p><p id="edd1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">ç™¾åˆ†ä½æ•°</strong></p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="a0ee" class="ms mt it om b gy oq or l os ot"><strong class="om jd">########## DETECTING OUTLIERS USING PERCENTILE ###############</strong><br/>df = pd.read_csv('data/titanic_with_no_nan.csv')<br/>max_val = df.Age.quantile(0.95)<br/>min_val = df.Age.quantile(0.05)<br/>df2 = df[(df['Age']&lt;min_val) | (df['Age']&gt;max_val)]<br/>print("Number of Outliers Detected in Age:",df2.shape[0])</span><span id="f20b" class="ms mt it om b gy ou or l os ot">#########OUTPUT#########<br/>Number of Outliers Detected in Age: <strong class="om jd">86</strong></span></pre><p id="8819" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">æ–¹æ¡†å›¾</strong></p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="c651" class="ms mt it om b gy oq or l os ot"><strong class="om jd">########## DETECTING OUTLIERS USING BOX PLOT ###############</strong><br/>df = pd.read_csv('data/titanic_with_no_nan.csv')</span><span id="36ed" class="ms mt it om b gy ou or l os ot"><em class="ow">### LET'S USE SEABORN BOX PLOTS<br/></em>import seaborn as sns<br/>sns.boxplot(df['Age'])</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/eb5a9d68073c52fd81b089eb8886834d.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*SEhAB6ioyZKATyGMn4Ui4Q.png"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk translated">Titanicæ•°æ®é›†ä¸­â€œ<strong class="bd mu">å¹´é¾„</strong>â€åˆ—ä¸­çš„å¼‚å¸¸å€¼</figcaption></figure><h1 id="cc07" class="oa mt it bd mu ob oc od mx oe of og na ki oh kj nd kl oi km ng ko oj kp nj ok bi translated">å¤„ç†å¼‚å¸¸å€¼çš„ä¸åŒæ–¹æ³•</h1><p id="8c6a" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å¤„ç†å¼‚å¸¸å€¼ã€‚</p><ol class=""><li id="1dcd" class="me mf it lk b ll lm lo lp lr mg lv mh lz mi md mj mk ml mm bi translated">ç§»é™¤æ‰€æœ‰å¼‚å¸¸å€¼ã€‚</li><li id="4a49" class="me mf it lk b ll mn lo mo lr mp lv mq lz mr md mj mk ml mm bi translated">ç”¨åˆé€‚çš„å€¼æ›¿æ¢å¼‚å¸¸å€¼</li></ol><h2 id="f901" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated">ç§»é™¤æ‰€æœ‰å¼‚å¸¸å€¼</h2><p id="1726" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°æœ€å°å€¼å’Œæœ€å¤§å€¼åˆ†ä½æ•°ï¼Œç„¶åé€šè¿‡åœ¨è¿›ä¸€æ­¥å¤„ç†ä¸­ä¸é€‰å–å®ƒä»¬æ¥ç®€å•åœ°åˆ é™¤æ‰€æœ‰å€¼ã€‚</p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="714e" class="ms mt it om b gy oq or l os ot">import matplotlib.pyplot as plt<br/>import seaborn as sns<br/>import warnings<br/>import pandas as pd<br/>warnings.filterwarnings("ignore")<br/>fig, axes = plt.subplots(1,2)<br/>plt.tight_layout(0.2)</span><span id="b3ac" class="ms mt it om b gy ou or l os ot"><strong class="om jd">## DataFrame</strong><br/>df = pd.read_csv('data/titanic_with_no_nan.csv')<br/>print("Before Shape:",df.shape)</span><span id="97d1" class="ms mt it om b gy ou or l os ot"><strong class="om jd">## Max and Min Quantile</strong><br/>max_val = df.Age.quantile(0.95)<br/>min_val = df.Age.quantile(0.05)</span><span id="07b9" class="ms mt it om b gy ou or l os ot"><strong class="om jd">## Removing all the outliers</strong><br/>df2 = df[(df['Age']&gt;min_val) &amp; (df['Age']&lt;max_val)]</span><span id="3058" class="ms mt it om b gy ou or l os ot"><strong class="om jd">## Visulization</strong><br/>print("After Shape:",df2.shape)<br/>sns.boxplot(df['Age'],orient='v',ax=axes[0])<br/>axes[0].title.set_text("Before")<br/>sns.boxplot(df2['Age'],orient='v',ax=axes[1])<br/>axes[1].title.set_text("After")<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/8a079a899cbf67a1e40d21462ab7b95b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*P-y_JM3Vc3yGWWSZ9jyTHQ.png"/></div></figure><h2 id="ca99" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated">ç”¨åˆé€‚çš„å€¼æ›¿æ¢å¼‚å¸¸å€¼</h2><p id="8018" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated"><strong class="lk jd">ä½¿ç”¨åˆ†ä½æ•°æ³•</strong></p><p id="2d32" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆæ‰¾åˆ°æœ€å°å’Œæœ€å¤§åˆ†ä½æ•°ã€‚ä¹‹åï¼Œæˆ‘ä»¬æ‰¾åˆ°åˆ†ä½æ•°èŒƒå›´ä¹‹å¤–çš„æ‰€æœ‰å€¼ï¼Œå¹¶ç›¸åº”åœ°ç”¨æœ€å°æˆ–æœ€å¤§åˆ†ä½æ•°å€¼æ›¿æ¢å®ƒä»¬ã€‚</p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="208f" class="ms mt it om b gy oq or l os ot">import numpy as np<br/>import matplotlib.pyplot as plt<br/>import warnings<br/>warnings.filterwarnings("ignore")<br/>fig, axes = plt.subplots(1,2)<br/>plt.tight_layout(0.2)<br/>df = pd.read_csv('data/titanic_with_no_nan.csv')<br/>print("Previous Shape With Outlier: ",df.shape)<br/>sns.boxplot(df['Age'],orient='v',ax=axes[0])<br/>axes[0].title.set_text("Before")</span><span id="4c34" class="ms mt it om b gy ou or l os ot"><strong class="om jd">########### HANDLING OUTLIER ######</strong><br/>max_val = df.Age.quantile(0.95)<br/>min_val = df.Age.quantile(0.05)</span><span id="a6f2" class="ms mt it om b gy ou or l os ot">df2 = df</span><span id="31d2" class="ms mt it om b gy ou or l os ot"><strong class="om jd">####### REPLACING ALL THE Large values with MAX QUANTILE VALUE ####<br/></strong>df2['Age'] = np.where(df2['Age']&gt;max_val,max_val,df2['Age'])</span><span id="df5e" class="ms mt it om b gy ou or l os ot">print("Shape After Removing Outliers:", df2.shape)</span><span id="cfa8" class="ms mt it om b gy ou or l os ot">sns.boxplot(df2['Age'],orient='v',ax=axes[1])<br/>axes[1].title.set_text("After")<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/aff57009b63c7247a942e9f74a2fad40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1104/format:webp/1*PHtTTm6ocZwYWHMYNgXuxg.png"/></div></figure><h2 id="8e10" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated">ä½¿ç”¨IQR</h2><p id="22a7" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">IQRæˆ–<strong class="lk jd">å››åˆ†ä½æ•°èŒƒå›´</strong>æ˜¯åŸºäºå°†æ•°æ®é›†åˆ’åˆ†ä¸ºä¸åŒåˆ†ä½æ•°çš„å¯å˜æ€§åº¦é‡ã€‚</p><p id="9fb9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">åˆ†ä½æ•°åˆ†ä¸ºQ1ã€Q2å’ŒQ3ï¼Œå…¶ä¸­Q1æ˜¯æ•°æ®é›†å‰åŠéƒ¨åˆ†çš„ä¸­é—´å€¼ã€‚Q2æ˜¯ä¸­é—´å€¼ï¼ŒQ3æ˜¯æ•°æ®é›†ååŠéƒ¨åˆ†çš„ä¸­é—´å€¼ã€‚</p><p id="8789" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">IQRç­‰äºQ3å‡å»Q1ã€‚</p><p id="53c0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Q1 = df . column . quantile(0.25)<br/>Q3 = df . column . quantile(0.75)</p><p id="e01f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">IQR = Q3-Q1</p><p id="4da9" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">è®¡ç®—IQRåï¼Œæˆ‘ä»¬è®¡ç®—ä¸‹é™å’Œä¸Šé™ï¼Œç„¶åç®€å•åœ°ä¸¢å¼ƒæ‰€æœ‰å°äºæˆ–å¤§äºé™åˆ¶çš„å€¼ï¼Œå¹¶ç›¸åº”åœ°ç”¨ä¸‹é™å’Œä¸Šé™æ›¿æ¢å®ƒä»¬ã€‚</p><p id="c78c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">æ³¨æ„</strong>:å®ƒä¹Ÿé€‚ç”¨äºå·¦åæˆ–å³åçš„æ•°æ®</p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="326f" class="ms mt it om b gy oq or l os ot">df = pd.read_csv('data/titanic_with_no_nan.csv')<br/>import numpy as np<br/>import matplotlib.pyplot as plt<br/>import warnings<br/>warnings.filterwarnings("ignore")<br/>fig, axes = plt.subplots(1,2)<br/>plt.tight_layout(0.2)<br/>print("Previous Shape With Outlier: ",df.shape)<br/>sns.boxplot(df['Age'],orient='v',ax=axes[0])<br/>axes[0].title.set_text("Before")</span><span id="c5da" class="ms mt it om b gy ou or l os ot">########### HANDLING OUTLIER ######<br/>Q1 = df.Age.quantile(0.25)<br/>Q3 = df.Age.quantile(0.75)<br/>print(Q1,Q3)</span><span id="4dcd" class="ms mt it om b gy ou or l os ot">IQR = Q3-Q1<br/>print(IQR)</span><span id="194f" class="ms mt it om b gy ou or l os ot">lower_limit = Q1 - 1.5*IQR<br/>upper_limit = Q3 + 1.5*IQR<br/>print(lower_limit,upper_limit)</span><span id="8541" class="ms mt it om b gy ou or l os ot">df2 = df<br/>df2['Age'] = np.where(df2['Age']&gt;upper_limit,upper_limit,df2['Age'])<br/>df2['Age'] = np.where(df2['Age']&lt;lower_limit,lower_limit,df2['Age'])</span><span id="b86c" class="ms mt it om b gy ou or l os ot">print("Shape After Removing Outliers:", df2.shape)</span><span id="65cf" class="ms mt it om b gy ou or l os ot">sns.boxplot(df2['Age'],orient='v',ax=axes[1])<br/>axes[1].title.set_text("After")<br/>plt.show()</span></pre><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/d86e1e90e4a76df27406b954bca220d2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1102/format:webp/1*m1TJ5XUMY6khypDWjKL7NA.png"/></div></figure><h2 id="df00" class="ms mt it bd mu mv mw dn mx my mz dp na lr nb nc nd lv ne nf ng lz nh ni nj iz bi translated"><strong class="ak">å¥–åŠ±æç¤º</strong></h2><p id="a8ab" class="pw-post-body-paragraph li lj it lk b ll nk kd ln lo nl kg lq lr nm lt lu lv nn lx ly lz no mb mc md im bi translated">å‘ç°å¼‚å¸¸å€¼å¹¶å¤„ç†å®ƒä»¬å¹¶ä¸æ€»æ˜¯é‚£ä¹ˆå®¹æ˜“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¹å¼‚å¸¸å€¼ä¸æ•æ„Ÿçš„ä¸åŒçš„æœºå™¨å­¦ä¹ æ¨¡å‹ã€‚</p><pre class="ks kt ku kv gt ol om on oo aw op bi"><span id="3967" class="ms mt it om b gy oq or l os ot">1. Naivye Bayes Classifier--- Not Sensitive To Outliers<br/>2. SVM-------- Not Sensitive To Outliers<br/>3. Decision Tree Regressor or Classifier---- Not Sensitive<br/>4. Ensemble(RF,XGboost,GB)------------Not Sensitive<br/>5. KNN--------------------------- Not Sensitive</span><span id="aad9" class="ms mt it om b gy ou or l os ot">6. Linear Regression------------- Sensitive<br/>7. Logistic Regression----------- Sensitive <br/>8. Kmeans------------------------ Sensitive<br/>9. Hierarichal------------------- Sensitive<br/>10. PCA-------------------------- Sensitive<br/>11. Neural Networks-------------- Sensitive</span></pre><p id="1b7d" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><a class="ae lh" href="https://github.com/Abhayparashar31/feature-engineering/blob/main/Handling%20Outliers.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd"> <em class="ow"> Github &amp;ç¬”è®°æœ¬é“¾æ¥</em> </strong> </a></p><blockquote class="pb pc pd"><p id="ca2c" class="li lj ow lk b ll lm kd ln lo lp kg lq pe ls lt lu pf lw lx ly pg ma mb mc md im bi translated"><strong class="lk jd"> <em class="it">æ„Ÿè°¢é˜…è¯»ğŸ˜ƒï¼Œå…³æ³¨æˆ‘æ›´å¤šç›¸å…³æ–‡ç« </em> </strong></p></blockquote></div><div class="ab cl ph pi hx pj" role="separator"><span class="pk bw bk pl pm pn"/><span class="pk bw bk pl pm pn"/><span class="pk bw bk pl pm"/></div><div class="im in io ip iq"><div class="ks kt ku kv gt po"><a href="https://medium.com/towards-artificial-intelligence/9-ways-to-handle-missing-values-in-machine-learning-1bbda345699a" rel="noopener follow" target="_blank"><div class="pp ab fo"><div class="pq ab pr cl cj ps"><h2 class="bd jd gy z fp pt fr fs pu fu fw jc bi translated">æœºå™¨å­¦ä¹ ä¸­å¤„ç†ç¼ºå¤±å€¼çš„9ç§æ–¹æ³•</h2><div class="pv l"><h3 class="bd b gy z fp pt fr fs pu fu fw dk translated">ç®€å•ä½†æœ‰æ•ˆ</h3></div><div class="pw l"><p class="bd b dl z fp pt fr fs pu fu fw dk translated">medium.com</p></div></div><div class="px l"><div class="py l pz qa qb px qc lb po"/></div></div></a></div><div class="qd qe gp gr qf po"><a href="https://medium.com/towards-artificial-intelligence/feature-transformation-and-scaling-techniques-f9645cb538e" rel="noopener follow" target="_blank"><div class="pp ab fo"><div class="pq ab pr cl cj ps"><h2 class="bd jd gy z fp pt fr fs pu fu fw jc bi translated">ç‰¹å¾å˜æ¢å’Œç¼©æ”¾æŠ€æœ¯</h2><div class="pv l"><h3 class="bd b gy z fp pt fr fs pu fu fw dk translated">æé«˜æœºå™¨å­¦ä¹ æ¨¡å‹æ€§èƒ½çš„9ç§æ–¹æ³•</h3></div><div class="pw l"><p class="bd b dl z fp pt fr fs pu fu fw dk translated">medium.com</p></div></div><div class="px l"><div class="qg l pz qa qb px qc lb po"/></div></div></a></div></div></div>    
</body>
</html>