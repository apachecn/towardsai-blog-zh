# ç”¨é—ä¼ ç®—æ³•æ±‚è§£ 5 çš‡åé—®é¢˜

> åŸæ–‡ï¼š<https://pub.towardsai.net/solving-the-5-queens-problem-using-genetic-algorithm-8f5aab6af020?source=collection_archive---------1----------------------->

## [è®¡ç®—æœºç§‘å­¦](https://towardsai.net/p/category/computer-science)

![](img/d19ec83e8eb0280d2fe63f8661cee1e9.png)

# ä»€ä¹ˆæ˜¯ N çš‡åé—®é¢˜ï¼Ÿ

é¦–å…ˆï¼ŒN çš‡åé—®é¢˜æ˜¯æŒ‡æˆ‘ä»¬éœ€è¦åœ¨æ£‹ç›˜ä¸Šæ‰¾åˆ° N ä¸ªçš‡åçš„æ’åˆ—ï¼Œè¿™æ ·æ²¡æœ‰çš‡åå¯ä»¥æ”»å‡»æ£‹ç›˜ä¸Šçš„ä»»ä½•å…¶ä»–çš‡åã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„ 5 çš‡åé—®é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ 5Ã—5 çš„æ£‹ç›˜ä¸Šæ”¾ç½® 5 ä¸ªè±¡æ£‹çš‡åï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰ä¸¤ä¸ªçš‡åäº’ç›¸æ”»å‡»ã€‚å½“æˆ‘ä»¬æ‰¾åˆ°æ‰€æœ‰å¯èƒ½çš„æƒ…å†µæ—¶ï¼Œå®ƒçœ‹èµ·æ¥åƒä¸‹é¢è¿™æ ·:

![](img/25d2cae51d6454aa1e00c179f26dc6ea.png)

# æˆ‘ä»¬éœ€è¦é‡‡å–çš„æ­¥éª¤

åœ¨æˆ‘ä»¬çš„ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨é—ä¼ ç®—æ³•æ¥è§£å†³ 5 çš‡åé—®é¢˜ã€‚æˆ‘ä»¬éœ€è¦è¿ç”¨è¿›åŒ–è®ºçš„åŸç†æ¥å¯»æ‰¾è§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚

ä¸ºäº†è§£å†³ 5 çš‡åé—®é¢˜ï¼Œéœ€è¦ä»¥ä¸‹æ­¥éª¤:

*1)æŸ“è‰²ä½“è®¾è®¡
2)åˆå§‹åŒ–
3)é€‚åº”åº¦è¯„ä¼°
4)é€‰æ‹©
5)äº¤å‰
6)å˜å¼‚
7)æ›´æ–°ä¸–ä»£
8)è¿”å› 3)*

è®©æˆ‘ä»¬ç®€è¦è§£é‡Šä½¿ç”¨é—ä¼ ç®—æ³•è§£å†³ 5 çš‡åé—®é¢˜çš„æ¯ä¸ªæ­¥éª¤ã€‚

# ***1)*** ***æŸ“è‰²ä½“è®¾è®¡***

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæŸ“è‰²ä½“è¡¨ç¤ºã€‚ä¸ºäº†æ˜¾ç¤ºä¸€æ¡æŸ“è‰²ä½“ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯æŠŠå®ƒè¡¨ç¤ºæˆä¸€ä¸ªé•¿åº¦ä¸º N çš„åˆ—è¡¨ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ N=5ã€‚æ¯ä¸ªç´¢å¼•çš„å€¼æ˜¾ç¤ºä¸€åˆ—ä¸­çš‡åçš„è¡Œã€‚æ¯ä¸ªæŒ‡æ•°çš„å€¼ä» 1 åˆ° 5ã€‚

![](img/c3e09a256ba579df4054df43cbb02e9e.png)

# 2) ***åˆå§‹åŒ–***

åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®‰æ’ä¸€ä¸ªéšæœºçš„æŸ“è‰²ä½“ç¾¤ä½“(æ½œåœ¨çš„è§£å†³æ–¹æ¡ˆ)è¢«åˆ›å»ºã€‚è¿™æ˜¯åˆå§‹ç§ç¾¤ï¼Œæˆ‘å–äº† 4 æ¡æŸ“è‰²ä½“ï¼Œæ¯æ¡é•¿åº¦ä¸º 5ã€‚ä»–ä»¬æ˜¯

*ã€5 2 4 3 5ã€‘*

*ã€4 3 5 1 4ã€‘*

*ã€21324ã€‘*

*ã€5 2 3 4 1ã€‘*

![](img/2c5adfd48f924cde418cdebf5fadf4bc.png)

å…·ä½“æ¥è¯´ï¼Œè¿™äº›æŸ“è‰²ä½“å¯ä»¥åœ¨æ£‹ç›˜ä¸Šæ˜¾ç¤ºå¦‚ä¸‹:

![](img/ad7fabf515cdbc7fc2c5caa0d51e451e.png)

# 3) ***ä½“èƒ½æµ‹è¯„***

é¦–å…ˆï¼Œé€‚åº”åº¦å‡½æ•°æ˜¯æˆå¯¹çš„éæ”»å‡»å¥³ç‹ã€‚æ‰€ä»¥ï¼Œåˆ†æ•°è¶Šé«˜å¯¹æˆ‘ä»¬è¶Šå¥½ã€‚ä¸ºäº†æ±‚è§£æŸ“è‰²ä½“[5 2 4 3 5]çš„é€‚åº”åº¦å‡½æ•°ï¼Œæˆ‘å°†æ¯ä¸ªçš‡ååˆ†åˆ«æŒ‡å®šä¸º Q1ã€Q2ã€Q3ã€Q4 å’Œ Q5ã€‚ä¸ºäº†æ‰¾åˆ°é€‚åº”å‡½æ•°å€¼ï¼Œæˆ‘å»ºç«‹äº†ä¸‹é¢çš„ç­‰å¼:

é€‚åº”åº¦å‡½æ•°= F1+F2+F3+F4+F5

å…¶ä¸­:

> F1 =éæ”»å‡»æ€§å¥³ç‹ä¸ Q1 å¥³ç‹çš„é…å¯¹æ•°ã€‚
> 
> F2 =éæ”»å‡»æ€§å¥³ç‹ä¸ Q2 å¥³ç‹çš„é…å¯¹æ•°ã€‚
> 
> F3 =å¸¦æœ‰çš‡å Q3 çš„éæ”»å‡»çš‡åå¯¹çš„æ•°é‡ã€‚
> 
> F4 =éæ”»å‡»æ€§çš‡åä¸çš‡å Q4 çš„é…å¯¹æ•°ã€‚
> 
> F5 =ä¸æ”»å‡»çš„çš‡åä¸çš‡å Q5 çš„å¯¹æ•°ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å·²ç»æŠŠ Q1 å’Œ Q2 å¯¹ç®—ä½œ F1ï¼Œæˆ‘ä»¬å°±ä¸åº”è¯¥æŠŠ Q2 å’Œ Q1 å¯¹ç®—ä½œ F2ã€‚

æ‰€ä»¥æˆ‘ä»¬å‘ç°å¯¹äºæŸ“è‰²ä½“[5 2 4 3 5]ï¼Œé€‚åº”åº¦å‡½æ•°å°†ç­‰äº 7ã€‚

![](img/18852674d8c3b11ebf54f44b1d5f3ddf.png)

æˆ‘ä»¬åº”è¯¥ä½¿ç”¨é€‚åº”åº¦å‡½æ•°æ¥è¯„ä¼°æˆ‘ä»¬æ‰€æœ‰çš„ç¾¤ä½“ä¸ªä½“(æŸ“è‰²ä½“)ã€‚æ‰€ä»¥é€‚åº”åº¦å‡½æ•°å¦‚ä¸‹:

[5 2 4 3 5]é€‚åº”åº¦å‡½æ•°=7

[4 3 5 1 4]é€‚åº”åº¦å‡½æ•°=6

[2 1 3 2 4]é€‚åº”åº¦å‡½æ•°=6

[5 2 3 4 1]é€‚åº”åº¦å‡½æ•°=5

![](img/d7126bb1defc31ec5455d3561122cef7.png)

ç„¶åæˆ‘ä»¬éœ€è¦è®¡ç®—ä»é€‚åº”åº¦å‡½æ•°ä¸­è¢«é€‰ä¸­çš„æ¦‚ç‡ã€‚è¿™å°†æ˜¯ä¸‹ä¸€ä¸ªé€‰æ‹©æ­¥éª¤æ‰€éœ€è¦çš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ æ‰€æœ‰çš„é€‚åº”åº¦å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤º:

7+6+6+5=24

ç„¶åæˆ‘ä»¬éœ€è¦è®¡ç®—ä»é€‚åº”åº¦å‡½æ•°ä¸­è¢«é€‰ä¸­çš„æ¦‚ç‡ã€‚æˆ‘ä»¬éœ€è¦ç”¨é€‚åº”åº¦å‡½æ•°é™¤ä»¥é€‚åº”åº¦å‡½æ•°ä¹‹å’Œï¼Œå†ä¹˜ä»¥ 100%ã€‚

ã€5 2 4 3 5ã€‘è¢«é€‰ä¸­çš„æ¦‚ç‡= 7/24 *100% = 29%

[4 3 5 1 4]è¢«é€‰ä¸­çš„æ¦‚ç‡=6/24 * 100% = 25%

ã€2 1 3 2 4ã€‘è¢«é€‰ä¸­çš„æ¦‚ç‡=6/24 * 100% = 25%

ã€5 2 3 4 1ã€‘è¢«é€‰ä¸­çš„æ¦‚ç‡=5/24 * 100% = 21%

![](img/95f833d239ddd6c26839ab632232dd50.png)

# ***4)é€‰æ‹©***

åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬æ ¹æ®ä¸Šä¸€æ­¥è®¡ç®—çš„æ¦‚ç‡éšæœºé€‰æ‹©ä¸¤å¯¹è¿›è¡Œå¤åˆ¶ã€‚æ¢å¥è¯è¯´ï¼Œä½¿ç”¨é€‰æ‹©æ“ä½œç¬¦ï¼Œä¸€å®šæ•°é‡çš„æŸ“è‰²ä½“å°†å­˜æ´»åˆ°ä¸‹ä¸€ä¸ªç”Ÿæˆå™¨ä¸­ã€‚è¿™é‡Œé€‰æ‹©çš„æŸ“è‰²ä½“ä½œä¸ºçˆ¶ä»£ï¼Œä½¿ç”¨äº¤å‰ç®—å­ç»„åˆäº§ç”Ÿå­ä»£ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸€å¯¹é€‰æ‹©ä¸€ä¸ªäº¤å‰ç‚¹ã€‚

è¿™é‡Œï¼Œæˆ‘ä»¬æ ¹æ®æ¦‚ç‡éšæœºé€‰å–äº†ä»¥ä¸‹æŸ“è‰²ä½“:

*ã€4 3 5 1 4ã€‘*

*ã€5 2 4 3 5ã€‘*

*ã€4 3 5 1 4ã€‘*

*ã€2 1 3 2 4ã€‘*

æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬æ²¡æœ‰é€‰æ‹©æŸ“è‰²ä½“[5 2 3 4 1],å› ä¸ºå®ƒè¢«é€‰ä¸­çš„æ¦‚ç‡æ˜¯æŸ“è‰²ä½“ä¸­æœ€å°çš„ã€‚

å¯¹äºç¬¬ä¸€å¯¹

*ã€4 3 5 1 4ã€‘*

*ã€5 2 4 3 5ã€‘*

äº¤å‰ç‚¹å°†åœ¨ä¸¤ä¸ªåŸºå› ä¹‹åé€‰å–ã€‚

åœ¨ç¬¬äºŒå¯¹çš„æƒ…å†µä¸‹

*ã€4 3 5 1 4ã€‘*

*ã€2 1 3 2 4ã€‘*

äº¤å‰ç‚¹å°†åœ¨ä¸‰ä¸ªåŸºå› ä¹‹åé€‰å–ã€‚

è¿™é‡Œæˆ‘ä»¬è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå› ä¸ºæˆ‘ä»¬çš„é€‚åº”å€¼ä¸ç­‰äº Fmaxï¼ŒFmax æ˜¯æŸ“è‰²ä½“ä¸­æ»¡è¶³ 5 çš‡åé—®é¢˜çš„è§£çš„æ¡ä»¶çš„æœ€å¤§æ•°é€‚åº”å€¼ã€‚Fmax ç­‰äº 10ã€‚

![](img/343dddba4141cb18dec314d3fe40f204.png)

# ***5)äº¤å‰***

åœ¨äº¤å‰è¿‡ç¨‹ä¸­ï¼Œè¢«é€‰æ‹©çš„æŸ“è‰²ä½“ä½œä¸ºçˆ¶ä»£ï¼Œé€šè¿‡äº¤å‰ç®—å­ç»„åˆæˆå­ä»£ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒç»“åˆäº†çˆ¶æ¯åŒæ–¹çš„é—ä¼ ä¿¡æ¯æ¥äº§ç”Ÿæ–°çš„åä»£ã€‚

è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»ç¬¬ä¸€å¯¹([4 3 5 1 4]å’Œ[5 2 4 3 5])ç”Ÿæˆçš„å­ä»£å¦‚ä¸‹:

[4 3 4 3 5]

[5 2 5 1 4]

ç¬¬äºŒå¯¹([4 3 5 1 4]å’Œ[2 1 3 2 4])çš„å­èŠ‚ç‚¹å¦‚ä¸‹:

[4 3 5 2 4]

[2 1 3 1 4]

æ¢å¥è¯è¯´ï¼Œä¸ºäº†åœ¨äº¤å‰è¿‡ç¨‹ä¸­ä»å¯¹ä¸­äº§ç”Ÿç¬¬ä¸€ä¸ªå­©å­ï¼Œæˆ‘ä»¬å–äº†äº²ä»£#1 æŸ“è‰²ä½“çš„ç¬¬ä¸€éƒ¨åˆ†å’Œäº²ä»£#2 æŸ“è‰²ä½“çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œè¿™æ„æˆäº†ç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆçš„æ–°ä¸ªä½“

[(äº²æœ¬#1 æŸ“è‰²ä½“çš„ç¬¬ä¸€éƒ¨åˆ†)[(äº²æœ¬#2 æŸ“è‰²ä½“çš„ç¬¬äºŒéƒ¨åˆ†)]

ä¸ºäº†ä»åŒä¸€å¯¹ä¸­äº§ç”Ÿç¬¬äºŒä¸ªå­©å­ï¼Œæˆ‘ä»¬å–äº†äº²ä»£#1 æŸ“è‰²ä½“çš„ç¬¬äºŒéƒ¨åˆ†å’Œäº²ä»£#2 æŸ“è‰²ä½“çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œè¿™å°±äº§ç”Ÿäº†æ–°çš„ä¸ªä½“ï¼Œå®ƒç”±ä»¥ä¸‹éƒ¨åˆ†ç»„æˆ

[(äº²æœ¬#1 æŸ“è‰²ä½“çš„ç¬¬äºŒéƒ¨åˆ†)[(äº²æœ¬#2 æŸ“è‰²ä½“çš„ç¬¬ä¸€éƒ¨åˆ†)]

å› æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå½“æˆ‘ä»¬åˆ›å»ºå¯¹[**4 3 5 1 4**]å’Œ[5 2 4 3 5]çš„å­ä»£æ—¶ï¼Œä¸ºäº†äº§ç”Ÿç¬¬ä¸€ä¸ªå­ä»£ï¼Œæˆ‘ä»¬å–[(çˆ¶ä»£#1 æŸ“è‰²ä½“çš„ç¬¬ä¸€éƒ¨åˆ†)[(çˆ¶ä»£#2 æŸ“è‰²ä½“çš„ç¬¬äºŒéƒ¨åˆ†)]=[**4 3**4 3 5]

ä¸ºäº†ç”Ÿäº§ç¬¬äºŒèƒï¼Œæˆ‘ä»¬å–[(äº²ä»£#1 æŸ“è‰²ä½“çš„ç¬¬äºŒéƒ¨åˆ†)[(äº²ä»£#2 æŸ“è‰²ä½“çš„ç¬¬ä¸€éƒ¨åˆ†)] = [5 2 **5 1 4** ]

æˆ‘ä»¬å°†å¯¹ç¬¬äºŒå¯¹([4 3 5 1 4]å’Œ[2 1 3 2 4])æ‰§è¡Œç›¸åŒçš„è¿‡ç¨‹ã€‚

![](img/ee8097f2192f2bc04af9ed092e8bdc62.png)![](img/495891d5557b90dfe269e42b1838f52f.png)

# ***6)çªå˜***

ä¸‹ä¸€æ­¥æ˜¯çªå˜ã€‚åœ¨çªå˜è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ”¹å˜äº†äº¤å‰åå‘ç°çš„æŸ“è‰²ä½“ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŸºå› å€¼ã€‚æ‰€ä»¥å®ƒéšæœºæ¢å‡ ä¸ªä¸€æ—ï¼Œå˜å¼‚æ¦‚ç‡ä½ã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„çªå˜å°†å¦‚ä¸‹æ‰€ç¤º:

*ã€4 3 4 3 5ã€‘â†’ã€4 3****1****3 5ã€‘*

*ã€5 2 5 1 4ã€‘â†’ã€5 2****3****1 4ã€‘*

*ã€4 3 5 2 4ã€‘â†’ã€4 3 5 2 4ã€‘*

*ã€2 1 3 1 4ã€‘â†’ã€2 1 3****5****4ã€‘*

æˆ‘ä»¬å¯ä»¥æ³¨æ„åˆ°æŸ“è‰²ä½“ä¸Šçš„ç¬¬ä¸‰ä¸ªåŸºå› ä» 4 å˜æˆäº† 1ã€‚

æŸ“è‰²ä½“ä¸Šçš„ç¬¬ä¸‰ä¸ªåŸºå› ä¹Ÿä» 5 å˜æˆäº† 3ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒæŸ“è‰²ä½“[2 1 3 1 4]ä¸­çš„ç¬¬å››ä¸ªåŸºå› ä» 1 å˜æˆäº† 5ã€‚

![](img/c70d87294efbaa4897093eb3607b5d96.png)

å› æ­¤ï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œè§£å†³ 5 çš‡åç®—æ³•çš„é—ä¼ ç®—æ³•å°†å¦‚ä¸‹æ‰€ç¤º:

![](img/b4e3c95a5db4b42a3056116c46e682a8.png)

# ***7)æ›´æ–°ç”Ÿæˆ***

åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°ç”Ÿæˆã€‚æ–°çš„æŸ“è‰²ä½“å°†æ›´æ–°ç§ç¾¤ï¼Œä½†ç§ç¾¤æ•°é‡ä¸ä¼šæ”¹å˜ã€‚æ‰€ä»¥æŸ“è‰²ä½“

*ã€4 3 1 3 5ã€‘*

*ã€5 2 3 1 4ã€‘*

*ã€4 3 5 2 4ã€‘*

*ã€2 1 3 5 4ã€‘*

å°†æˆä¸ºæˆ‘ä»¬çš„æ–°äººå£ã€‚

![](img/58d6de27346c89c3759f394944606446.png)

# ***8)å›åˆ°æ­¥éª¤ 3***

å› æ­¤ï¼Œåœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å›åˆ°ç¬¬ 3 æ­¥(é€‚åº”åº¦è¯„ä¼°),æ‰¾åˆ°æˆ‘ä»¬çš„æ›´æ–°äººå£çš„é€‚åº”åº¦å‡½æ•°ã€‚

é‡å¤æ­¥éª¤ 3-7ï¼Œç›´åˆ°æŸ“è‰²ä½“(æº¶æ¶²)æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:

*é€‚åº”å€¼== Fmax*

å…¶ä¸­ *Fmax* ç­‰äº 10

![](img/8a999c7b9b9e158c1c211ad45d3a0a1f.png)

## å‚è€ƒèµ„æ–™:

> [1] [ç”¨é—ä¼ ç®—æ³•æ±‚è§£ N çš‡åé—®é¢˜](https://www.researchgate.net/publication/281953623_Solving_N_Queen_Problem_using_Genetic_Algorithm)
> 
> [2] [ç”¨é—ä¼ ç®—æ³•è§£å†³ 5 çš‡åé—®é¢˜çš„è§†é¢‘è®²è§£](https://www.youtube.com/watch?v=qt85_CinKwo&list=LL2WjQFuALy8Sqvy-YgQvPuQ&index=3)

## å¸–å­è¿˜å‘å¸ƒåœ¨:

[Github èµ„æºåº“](https://github.com/assankhanov/5-Queens-problem-using-Genetic-Algorithm)

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·éšæ—¶å†™åœ¨ä¸‹é¢çš„è¯„è®ºåŒºğŸ˜ğŸ‘‡